<form [formGroup]="tableConfig" novalidate>
    <div class="container-fluid mt-5">
        <div fxLayout="row" class="content">
            <div class="top-dropdown">
                <mat-form-field fxFlex ="30" >
                    <mat-select  *ngIf="tableConfigNames" placeholder="Select a Table" >
                        <mat-option *ngFor="let tableConfigName of tableConfigNames" (click)="onChangeTableConfigName(tableConfigName)" [value]="tableConfigName.DbTableName">
                            {{tableConfigName.DisplayName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div fxLayout="row" fxLayoutAlign="center center" class="content">
            <mat-card class="card" *ngIf="selectedConfigTable && selectedConfigTable.DbTableName !== '0'">
                <mat-card-title>
                    <div fxLayout="row" fxLayoutAlign="space-between">
                        <h5 class="p-0 m-0">{{selectedConfigTable.DisplayName}} Data</h5>
                        <div fxLayoutGap="20px" fxLayout="row" class="blocks">
                            <button *ngIf="hasAdd()" mat-mini-fab aria-label="Add" color="primary" matTooltip="Add New Record" (click)="addNewRecord()">
                                <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                    <polygon id="path-1" fill="#FFFFFF" fill-rule="nonzero"
                                             points="19 13 13 13 13 19 11 19 11 13 5 13 5 11 11 11 11 5 13 5 13 11 19 11"></polygon>
                                </svg>
                            </button>
                            <button mat-mini-fab aria-label="XLS" color="primary" (click)="exportXLS()" matTooltip="Download XLS">
                                <svg width="24px" height="24px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                     xmlns:xlink="http://www.w3.org/1999/xlink">
                                    <g id="Icon/XLS" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <path d="M9.16666667,4.875 L9.16666667,1.33333333 L3.95833333,1.33333333 C3.61197917,1.33333333 3.33333333,1.61197917 3.33333333,1.95833333 L3.33333333,14.0416667 C3.33333333,14.3880208 3.61197917,14.6666667 3.95833333,14.6666667 L12.7083333,14.6666667 C13.0546875,14.6666667 13.3333333,14.3880208 13.3333333,14.0416667 L13.3333333,5.5 L9.79166667,5.5 C9.44791667,5.5 9.16666667,5.21875 9.16666667,4.875 Z M11.14,7.895 C11.3566667,7.895 11.5308333,7.93166667 11.6625,8.005 C11.7941667,8.07833333 11.8941667,8.17416667 11.9625,8.2925 C12.0308333,8.41083333 12.0775,8.53583333 12.1025,8.6675 C12.1275,8.79916667 12.1416667,8.925 12.145,9.045 L12.145,9.045 L11.375,9.14 L11.3702778,9.02527778 C11.3662037,8.95231481 11.3602778,8.88638889 11.3525,8.8275 C11.3408333,8.73916667 11.3166667,8.67083333 11.28,8.6225 C11.2433333,8.57416667 11.1866667,8.55 11.11,8.55 C11.0266667,8.55 10.9658333,8.585 10.9275,8.655 C10.8891667,8.725 10.87,8.795 10.87,8.865 C10.87,9.015 10.9058333,9.1375 10.9775,9.2325 C11.0491667,9.3275 11.1433333,9.42666667 11.26,9.53 L11.26,9.53 L11.595,9.825 L11.7223438,9.94125 C11.8445313,10.06125 11.95125,10.1925 12.0425,10.335 C12.1641667,10.525 12.225,10.76 12.225,11.04 C12.225,11.23 12.1816667,11.4025 12.095,11.5575 C12.0083333,11.7125 11.8858333,11.835 11.7275,11.925 C11.5691667,12.015 11.3816667,12.06 11.165,12.06 C10.9116667,12.06 10.7,12.015 10.53,11.925 C10.36,11.835 10.2316667,11.6958333 10.145,11.5075 C10.0583333,11.3191667 10.01,11.075 10,10.775 L10,10.775 L10.765,10.66 L10.7698438,10.78375 C10.7770313,10.90125 10.79125,11 10.8125,11.08 C10.8408333,11.1866667 10.8808333,11.2633333 10.9325,11.31 C10.9841667,11.3566667 11.0466667,11.38 11.12,11.38 C11.2133333,11.38 11.2741667,11.3483333 11.3025,11.285 C11.3308333,11.2216667 11.345,11.155 11.345,11.085 C11.345,10.9183333 11.305,10.7775 11.225,10.6625 C11.145,10.5475 11.0366667,10.4316667 10.9,10.315 L10.9,10.315 L10.55,10.01 L10.4047222,9.87416667 C10.3132407,9.77972222 10.2325,9.6775 10.1625,9.5675 C10.0575,9.4025 10.005,9.19833333 10.005,8.955 C10.005,8.61166667 10.1066667,8.34916667 10.31,8.1675 C10.5133333,7.98583333 10.79,7.895 11.14,7.895 Z M5.915,7.95 L6.36,9.045 L6.72,7.95 L7.465,7.95 L6.755,10.055 L7.545,12 L6.705,12 L6.21,10.79 L5.775,12 L5.035,12 L5.82,9.82 L5.07,7.95 L5.915,7.95 Z M8.77,7.95 L8.77,11.395 L9.7,11.395 L9.7,12 L7.875,12 L7.875,7.95 L8.77,7.95 Z M10.1588542,1.33333333 C10.3255208,1.33333333 10.484375,1.3984375 10.6015625,1.515625 L10.6015625,1.515625 L13.1510417,4.06770833 C13.2682292,4.18489583 13.3333333,4.34375 13.3333333,4.5078125 L13.3333333,4.5078125 L13.3333333,4.66666667 L10,4.66666667 L10,1.33333333 Z"
                                                id="Shape" fill="#FFFFFF" fill-rule="nonzero"></path>
                                    </g>
                                </svg>
                            </button>
                            <button mat-mini-fab aria-label="Print" color="primary" (click)="printDataTable()" matTooltip="Print">
                                <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                    <path
                                            d="M19,8 L5,8 C3.34,8 2,9.34 2,11 L2,17 L6,17 L6,21 L18,21 L18,17 L22,17 L22,11 C22,9.34 20.66,8 19,8 Z M16,19 L8,19 L8,14 L16,14 L16,19 Z M19,12 C18.45,12 18,11.55 18,11 C18,10.45 18.45,10 19,10 C19.55,10 20,10.45 20,11 C20,11.55 19.55,12 19,12 Z M18,3 L6,3 L6,7 L18,7 L18,3 Z"
                                            id="Share-2" fill="#FFFFFF" fill-rule="nonzero"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </mat-card-title>
                <div class="container mt-3">
                </div>
                <mat-card-content>
                    <div fxLayout="column" fxLayoutGap="20px" fxLayout.gt-xs="row" fxLayoutAlign="space-around center"
                         class="content mb-1" *ngIf="selectedConfigTable.DbTableName ==='SCO_MASTER_DRAFT'">
                        <div class="blocks">
                            <button button="submit" mat-raised-button color="primary" (click)="refreshAllData()">
                                Refresh All Data
                            </button>
                        </div>
                        <div class="blocks">
                            <button button="submit" mat-raised-button color="primary" (click)="massUpdate()">
                                Mass Update
                            </button>
                        </div>
                        <div class="blocks">
                            <button button="submit" mat-raised-button color="primary" (click)="validateChanges()">
                                Validate Changes
                            </button>
                        </div>
                    </div>
                    <div class="table-container" [ngStyle]="style">
                        <div fxLayout="row" class="table-bar" fxLayoutAlign="end end">
                            <span>{{rowsCountString}}</span>
                        <button button="submit" class="clear-filters" mat-stroked-button color="warn" (click)="clearFilters()">
                            Clear Filters
                        </button>
                        </div>
                        <ag-grid-angular style="width: 100%; height: 65vh;"
                                         #agGrid
                                         id= "my-grid"
                                         class="ag-theme-balham"
                                         [gridOptions] = "gridOptions"
                                         [rowData]="rowData"
                                         [columnDefs]="columnDefs"
                                         (rowClicked)="onRowClicked($event)"
                                         (gridReady)="onGridReady($event)"
                                         (sortChanged)="onSortChanged($event)"
                                         (rowDataChanged)="onRowDataChanged($event)"
                                         (filterChanged)="onFilterChanged($event)"
                                         (columnMoved)="onColumnMoved($event)">
                        </ag-grid-angular>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
    <div class="container mt-5">
    </div>
</form>
<div id="print-content">
    <table id="my-grid-print" style="width: 1024px;" [hidden]="!isPrinting">
        <thead>
            <tr class="print-header">
                <th *ngFor="let header of headerPrintData" width="{{header.width}}">{{header.headerName}}</th>
            </tr>
        </thead>
        <tbody>
        <tr *ngFor="let cell of printData">
            <td  *ngFor="let data of cell">{{data}}</td>
        </tr>
        </tbody>
    </table>
</div>
